<html>
	<head>
		<title>Мой альбом</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="styles/main.css"/>
		<style>
			div.thumbnails {
				border:solid black thin;
				width: 150px;
				float: left;
			}

			div.thumbnails img {
				margin: 5px;
				border-radius: 50%;
				display: block;
				width: 130px;
				border: solid white thick;
			}

			div.large-photo {
				float: left;
			}

			div.large-photo img {
				width: 400px;
				margin-left: 10px;
			}

			div.thumbnails img:hover {
				border: solid red thick;
				cursor: pointer;
			}

			div.thumbnails img.selected {
				border: solid thick blue;
			}

			div.thumbnails p {
				display: none;
				margin-left: 20px;
			}
		</style>
		<script>
			function showLarge(thumb) {
				var pic_name = thumb.src;
				var splitted = pic_name.split(".")
				var large_name = splitted[0] + "-large." + splitted[1];
				document.getElementById("large_photo").src = large_name;
                for(element of document.getElementsByClassName("thumbnails")[0].children) {
                    element.classList.remove("selected");
                }
				thumb.classList.add("selected");
			}

			var images;
			var noMaches; 
			document.addEventListener('DOMContentLoaded', () => {
				images = document.querySelectorAll("div.thumbnails > img");
				noMaches = document.querySelector("div.thumbnails > p");
			});

			function filterOnInput(filterString) {
				var displayed = images.length;
				if (filterString === "") {
					images.forEach((img) => {
						img.style.display = "";
						noMaches.style.display = "";
					})
					return;
				}
				images.forEach((img) => {
					var splitted = img.src.split("/");
					var name = splitted[splitted.length - 1];
					if (!name.startsWith(filterString)) {
						img.style.display = "none";
						displayed -= 1;
					} else {
						img.style.display = "";
					}
				})
				if (!displayed) {
					noMaches.style.display = "block";
				}
				else {
					noMaches.style.display = "";
				}
			}
		</script>
	</head>
	<body>
		<h1>Фотоальбом HTML - поиск</h1>

		<form>
			Первые буквы имени:
			<input name="filter" oninput="filterOnInput(this.value);" type="text" id="search"/>
		</form>

		<div class="thumbnails" id="imageDiv">
			<img src="images/april-meyer.jpg" onclick="showLarge(this);" class="selected"/>
			<img src="images/david-alexander.jpg" onclick="showLarge(this);"/>
			<img src="images/mark-hanson.jpg" onclick="showLarge(this);"/>
			<img src="images/melissa-kerr.jpg" onclick="showLarge(this);"/>
			<p>Нет совпадений</p>
		</div>
		<div class="large-photo" >
			<img src="images/april-meyer.jpg" id="large_photo"/>
		<div>
	</body>
</html>